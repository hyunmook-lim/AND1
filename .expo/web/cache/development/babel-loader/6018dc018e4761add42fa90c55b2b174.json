{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nimport { getFirestore, collection, addDoc, getDocs, setDoc, doc, getDoc, getDocsFromServer } from \"firebase/firestore\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyApbMMayz04SMlrUbmbyQLI0M28rGW7OZ4\",\n  authDomain: \"and-one-3e31a.firebaseapp.com\",\n  projectId: \"and-one-3e31a\",\n  storageBucket: \"and-one-3e31a.appspot.com\",\n  messagingSenderId: \"190343825238\",\n  appId: \"1:190343825238:web:8f116c4926cdf65d3bf8f7\",\n  measurementId: \"G-DNJBJXZMRM\"\n};\ninitializeApp(firebaseConfig);\nvar auth = getAuth();\nvar db = getFirestore();\nexport var login = function login(email, password) {\n  var _await$signInWithEmai, user;\n\n  return _regeneratorRuntime.async(function login$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(signInWithEmailAndPassword(auth, email, password));\n\n        case 2:\n          _await$signInWithEmai = _context.sent;\n          user = _await$signInWithEmai.user;\n          return _context.abrupt(\"return\", user);\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var signup = function signup(email, password, name) {\n  var _await$createUserWith, user;\n\n  return _regeneratorRuntime.async(function signup$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(createUserWithEmailAndPassword(auth, email, password));\n\n        case 2:\n          _await$createUserWith = _context2.sent;\n          user = _await$createUserWith.user;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(setDoc(doc(db, \"user-info\", email), {\n            email: email,\n            password: password,\n            name: name\n          }));\n\n        case 6:\n          return _context2.abrupt(\"return\", user);\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\nexport var readLoginInfo = function readLoginInfo(email) {\n  var docRef, docSnap, data;\n  return _regeneratorRuntime.async(function readLoginInfo$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          docRef = doc(db, \"user-info\", email);\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(getDoc(docRef));\n\n        case 3:\n          docSnap = _context3.sent;\n          data = docSnap.data();\n          return _context3.abrupt(\"return\", data);\n\n        case 6:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/Users/yook/Programming/Mobile/AND1/src/data/firebase.js"],"names":["initializeApp","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","updateProfile","getFirestore","collection","addDoc","getDocs","setDoc","doc","getDoc","getDocsFromServer","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","login","email","password","user","signup","name","readLoginInfo","docRef","docSnap","data"],"mappings":";AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SACEC,OADF,EAEEC,0BAFF,EAGEC,8BAHF,EAIEC,aAJF,QAKO,eALP;AAMA,SACEC,YADF,EAEEC,UAFF,EAGEC,MAHF,EAIEC,OAJF,EAKEC,MALF,EAMEC,GANF,EAOEC,MAPF,EAQEC,iBARF,QASO,oBATP;;AAYA,IAAMC,cAAc,GAAG;AACrBC,EAAAA,MAAM,EAAE,yCADa;AAErBC,EAAAA,UAAU,EAAE,+BAFS;AAGrBC,EAAAA,SAAS,EAAE,eAHU;AAIrBC,EAAAA,aAAa,EAAE,2BAJM;AAKrBC,EAAAA,iBAAiB,EAAE,cALE;AAMrBC,EAAAA,KAAK,EAAE,2CANc;AAOrBC,EAAAA,aAAa,EAAE;AAPM,CAAvB;AAUApB,aAAa,CAACa,cAAD,CAAb;AAEA,IAAMQ,IAAI,GAAGpB,OAAO,EAApB;AAEA,IAAMqB,EAAE,GAAGjB,YAAY,EAAvB;AAGA,OAAO,IAAMkB,KAAK,GAAG,SAARA,KAAQ,CAAOC,KAAP,EAAcC,QAAd;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACIvB,0BAA0B,CAACmB,IAAD,EAAOG,KAAP,EAAcC,QAAd,CAD9B;;AAAA;AAAA;AACXC,UAAAA,IADW,yBACXA,IADW;AAAA,2CAEZA,IAFY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd;AAMP,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAOH,KAAP,EAAcC,QAAd,EAAwBG,IAAxB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACGzB,8BAA8B,CAACkB,IAAD,EAAOG,KAAP,EAAcC,QAAd,CADjC;;AAAA;AAAA;AACZC,UAAAA,IADY,yBACZA,IADY;AAAA;AAAA,2CAEdjB,MAAM,CAACC,GAAG,CAACY,EAAD,EAAK,WAAL,EAAkBE,KAAlB,CAAJ,EAA8B;AACxCA,YAAAA,KAAK,EAAEA,KADiC;AAExCC,YAAAA,QAAQ,EAAEA,QAF8B;AAGxCG,YAAAA,IAAI,EAAEA;AAHkC,WAA9B,CAFQ;;AAAA;AAAA,4CAQbF,IARa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf;AAYP,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAOL,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBM,UAAAA,MADqB,GACZpB,GAAG,CAACY,EAAD,EAAK,WAAL,EAAkBE,KAAlB,CADS;AAAA;AAAA,2CAELb,MAAM,CAACmB,MAAD,CAFD;;AAAA;AAErBC,UAAAA,OAFqB;AAGrBC,UAAAA,IAHqB,GAGdD,OAAO,CAACC,IAAR,EAHc;AAAA,4CAIpBA,IAJoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB","sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport {\n  getAuth,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  updateProfile,\n} from \"firebase/auth\";\nimport {\n  getFirestore,\n  collection,\n  addDoc,\n  getDocs,\n  setDoc,\n  doc,\n  getDoc,\n  getDocsFromServer,\n} from \"firebase/firestore\";\nimport { Alert } from \"react-native\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyApbMMayz04SMlrUbmbyQLI0M28rGW7OZ4\",\n  authDomain: \"and-one-3e31a.firebaseapp.com\",\n  projectId: \"and-one-3e31a\",\n  storageBucket: \"and-one-3e31a.appspot.com\",\n  messagingSenderId: \"190343825238\",\n  appId: \"1:190343825238:web:8f116c4926cdf65d3bf8f7\",\n  measurementId: \"G-DNJBJXZMRM\",\n};\n\ninitializeApp(firebaseConfig);\n\nconst auth = getAuth();\n\nconst db = getFirestore();\n\n// login function by firebase\nexport const login = async (email, password) => {\n  const { user } = await signInWithEmailAndPassword(auth, email, password);\n  return user;\n};\n\n// signin function by firebase\nexport const signup = async (email, password, name) => {\n  const { user } = await createUserWithEmailAndPassword(auth, email, password);\n  await setDoc(doc(db, \"user-info\", email), {\n    email: email,\n    password: password,\n    name: name,\n  });\n\n  return user;\n};\n\n// Read login data\nexport const readLoginInfo = async (email) => {\n  const docRef = doc(db, \"user-info\", email);\n  const docSnap = await getDoc(docRef);\n  const data = docSnap.data();\n  return data;\n};\n"]},"metadata":{},"sourceType":"module"}